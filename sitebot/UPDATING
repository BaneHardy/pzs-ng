###############################################################
# Updating dZSbot Between Revisions                           #
###############################################################

# Notes
###############################################################

- Refer to themes/default.zst for theme changes, this theme
  file will always be kept up-to-date.

- For an explanation of newly added config file options, refer
  to dZSbot.conf.defaults (all options are explained in this file).

- Always replace the following files when upgrading:
  dZSbot.tcl, dZSbot.conf.defaults, dZSbot.conf.dist and dZSbot.vars.


# Changes
###############################################################

r1487: Tcl v8.4 or newer is required.
- Lazy siteops running older versions will have to update Tcl.

r1483: Random announcements were moved to the theme file.
- Check the default.zst theme file for an example.

r1463: Changed the default splitter(CHAR) to "\n".
- You may have to update your themes to use "\n" instead of "|".

r1455: Added recognition for the "killed PID" sysop.log message.
- New theme file setting: KILLED.

r1447: Added recognition for the "killed ghost with PID" login.log message.
- New theme file setting: KILLGHOST.

r1435: Private channel changes for invites.
- Remove all previous privgroups, privusers, and privchannel settings.
- Check the defaults.conf for an example on the new privchannel syntax.

r1434: Updated the SITE INVITE script.
- Replace /glftpd/bin/invite.sh with sitebot/extra/invite.sh.

r1428: Added sysop.log parsing.
- New theme file settings: ADDUSER, GADDUSER, CHGRPADD, CHGRPDEL, ADDIP,
  DELIP, READDED, DELUSER, PURGED, and SYSOP.
- New config option: sysoplog() for the sysop.log path.

r1419: Failed login theme changes and removed the cat binary.
- Theme file (.zst) changes:
Renamed: BADUSERHOST -> BADHOSTMASK and BADPASSWD -> BADPASSWORD.
    New: BAD_FILE_DUPENFO, BANNEDHOST, and DELETED.
Removed: DEBUG and FAILLOGIN.
- Remove "binary(CAT)" from your config, it is no longer needed.

r1386: The %system cookie was removed from uptime.
- Remove the %system cookie from "announce.UPTIME" in your theme file (.zst).

r1374: Added an !uptime command
- Add "announce.UPTIME" to your theme file (.zst).

r1351: Added a secure bnc option (for AUTH TLS).
- Add "bnc(SECURE)" to your dZSbot.conf.

r1350: Rewrote !bnc command.
- Add "announce.BNC,BNC_PING,BNC_UP,BNC_DOWN" to your theme file (.zst).
- cURL is used instead of ncftpls, be sure to install a recent version of cURL.
- Remove "binary(NCFTPLS)" from your config and add "binary(CURL)".

r1374: Renamed dZSbot config files.
- Renamed dZSbconf.tcl to dZSbot.conf.
- Renamed dZSbvars.tcl to dZSbot.vars.
- Renamed dZSbconf.defaults.tcl to dZSbot.conf.defaults.

r1337: Added some missing types to msgtypes(DEFAULT).
- Add BADPASSWD, BADUSERHOST, and IPNOTADDED to msgtypes(DEFAULT).

r1335: Added an example of "denypost" to the config.
- Add "denypost" to your dZSbconf.tcl (or dZSbot.conf on newer revisions).

r1331: Theming can be used in the help file.
- Replace dZSbot.help with the newer one.

r1328: Renamed a USER cookie and changed speed formatting.
- The %uspeed cookie was renamed to %speed in "announce.USER".
- Change the following values in your theme file (.zst):
KB = "KB/s"
MB = "MB/s"
KBIT = "Kbit/s"
MBIT = "Mbit/s"
- To:
KB = "%b{%value}KB/s"
MB = "%b{%value}MB/s"
KBIT = "%b{%value}Kbit/s"
MBIT = "%b{%value}Mbit/s"

r1314: The %idletime cookie is now formatted by the bot.
- Change "%b{%idletime} seconds" (or similar) to "%idletime" in your theme file (.zst).
- This cookie is used in "announce.USERIDLE" and "announce.SPEEDID".

r1311: Section announce changes.
- Renamed config option "msgtypes(RACE)" to "msgtypes(SECTION)".
- Remove all type(<section-name>) config options, they're no longer needed.
- New options to redirect and disable announces: disabletypes() and redirect().
  Check the dZSbconf.defaults.tcl for details on these new options.
